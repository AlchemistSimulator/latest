<!DOCTYPE HTML>
<!--
    Editorial by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>






<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<meta name="generator" content="Orchid 0.21.1"/>
<link rel="icon" href="https://alchemistsimulator.github.io/latest/favicon.ico">


<meta name="robots" content="index, follow">



<title>Known issues: troubleshooting</title>


<meta name="description" content="An extensible simulator for doing science and engineering in pervasive, bio-inspired, and aggregate computing.">



<link rel="prev" href="https://alchemistsimulator.github.io/latest/wiki/export/grid">


<link rel="next" href="https://alchemistsimulator.github.io/latest/wiki/literature">


<!-- start:inject styles -->
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/css/editorial_main.css"  />
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/css/editorial_orchidCustomizations.css"  />
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/css/orchidSearch.css"  />
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/css/pygments.css"  />
<link rel="stylesheet" type="text/css" href="https://rawgit.com/PrismJS/prism-themes/master/themes/prism-ghcolors.css"  />
<!-- end:inject styles -->





<!-- start:debug info -->

<!-- THEME -->
<!-- Type: Editorial -->
<!-- Class: com.eden.orchid.editorial.EditorialTheme -->

<!-- PAGE -->
<!-- Type: wiki -->
<!-- Class: com.eden.orchid.wiki.pages.WikiPage -->
<!-- Layout: index -->
<!-- Resolved Layout: templates/layouts/index.peb -->
<!-- Page Template: wiki, page -->
<!-- Resolved Page Template: templates/pages/page.peb -->

<!-- RESOURCE -->
<!-- Class: com.eden.orchid.api.resources.resource.FileResource -->
<!-- Source Filename: wiki/issues.md -->

<!-- COMPLETE PAGE CONFIGURATION -->
<script>
    window.allData = {"reference":{"path":"wiki","baseUrl":"https://alchemistsimulator.github.io/latest","fileName":"issues","extension":"html","usePrettyUrl":true,"link":"https://alchemistsimulator.github.io/latest/wiki/issues"},"next":{"path":"wiki","baseUrl":"https://alchemistsimulator.github.io/latest","fileName":"literature","extension":"html","usePrettyUrl":true,"link":"https://alchemistsimulator.github.io/latest/wiki/literature"},"previous":{"path":"wiki/export","baseUrl":"https://alchemistsimulator.github.io/latest","fileName":"grid","extension":"html","usePrettyUrl":true,"link":"https://alchemistsimulator.github.io/latest/wiki/export/grid"},"description":"","title":"Known issues: troubleshooting"};
</script>

<!-- end:debug info -->



<script>
    window.site = {"orchidVersion":"0.21.1","baseUrl":"https://alchemistsimulator.github.io/latest","environment":"debug","version":"11.3.1-dev1d+6f728480f"};
</script>


    <!-- start:inject meta-components [head] -->
    
    <!-- end:inject meta-components [head] -->



    <!-- start:inject meta-components [head] -->
    
    <!-- end:inject meta-components [head] -->







</head>
<body class="is-loading">





    <!-- start:inject meta-components [bodyStart] -->
    
    <!-- end:inject meta-components [bodyStart] -->



    <!-- start:inject meta-components [bodyStart] -->
    
    <!-- end:inject meta-components [bodyStart] -->





<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <div id="main">
        <div class="inner">

            <!-- Header -->
            
                <header id="header">
    <a href="https://alchemistsimulator.github.io/latest" class="logo">The Alchemist Simulator</a>
    <ul class="icons">
    
    
        <li>
            <a href="https://github.com/AlchemistSimulator/Alchemist" class="icon fa-github">
                <span class="label">github</span>
            </a>
        </li>
    
    
    </ul>
</header>

            
            
            
            
                <section id="pageContent">
                    <header class="major"><h2>Known issues: troubleshooting</h2></header>
                    <article>
                        
    <!-- start:inject components -->
    
        
            
                
                    
                        <p>A list of known issues which we are aiming to resolve is tracked <a href="https://github.com/AlchemistSimulator/Alchemist/issues">on the Alchemist Github issue tracker</a>.
Of course, contributions are welcome.</p>
<p>Other issues you may experience are listed below.
If you run into other issues yourself, please report them.</p>
<h3 id="graphical-glitches-on-the-swing-graphical-interface"><a href="#graphical-glitches-on-the-swing-graphical-interface" id="graphical-glitches-on-the-swing-graphical-interface" class="anchor"></a>Graphical glitches on the Swing graphical interface</h3>
<h4 id="problem-description"><a href="#problem-description" id="problem-description" class="anchor"></a>Problem description</h4>
<p>Under some combination of hardware and drivers, the Swing interface may render uncorrectly.
This is due to Alchemist using OpenGL as rendering backend for Swing, in order to increase performance.</p>
<p>Examples of graphical glitches are the following:</p>
<p><img src="https://alchemistsimulator.github.io/latest/assets/media/issues/vbox-glitch-1.png" alt="Graphical glitch example" />
<img src="https://alchemistsimulator.github.io/latest/assets/media/issues/vbox-glitch-2.png" alt="Graphical glitch example" />
<img src="https://alchemistsimulator.github.io/latest/assets/media/issues/vbox-glitch-3.png" alt="Graphical glitch example" /></p>
<p>The issue has been reproduced on:</p>
<ul>
<li>Virtualbox-virtualized Ubuntu installation</li>
<li>Old AMD APU for notebooks with open source radeon driver</li>
</ul>
<h4 id="solution"><a href="#solution" id="solution" class="anchor"></a>Solution</h4>
<p>In case you are using a virtualized environment, if you can do so, switch to the &quot;bare metal&quot; operating system.
Otherwise, you can try to disable Swing OpenGL support by <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/customization">writing a custom component</a>
which sets Swing non-accelerated mode, by invoking the following Java code:</p>
<pre><code class="language-java">System.setProperty(&quot;sun.java2d.opengl&quot;,&quot;false&quot;);
</code></pre>
<h3 id="memory-pressure-for-long-run-on-linux-systems-with-more-than-64gb-of-ram"><a href="#memory-pressure-for-long-run-on-linux-systems-with-more-than-64gb-of-ram" id="memory-pressure-for-long-run-on-linux-systems-with-more-than-64gb-of-ram" class="anchor"></a>Memory pressure for long run on Linux systems with more than 64GB of RAM</h3>
<h4 id="problem-description-1"><a href="#problem-description-1" id="problem-description-1" class="anchor"></a>Problem description</h4>
<p>In some situations, Alchemist is used on computers with a large amount of memory and parallelism, which require appropriate configuration.
This has more to do with the way memory allocation on Linux and the JVM works than with Alchemist itself.
The symptoms are:</p>
<ul>
<li>batch execution slowing down (this is due to the memory pressure)</li>
<li>analysis of memory shows that the amount of memory actually in use by the JVM is always growing (similar to a memory leak)</li>
<li>the following warning upon startup</li>
</ul>
<pre><code>[warning][gc] ***** WARNING! INCORRECT SYSTEM CONFIGURATION DETECTED! *****
[warning][gc] The system limit on number of memory mappings per process might be too low for the given
[warning][gc] max Java heap size (101754M). Please adjust /proc/sys/vm/max_map_count to allow for at
[warning][gc] least 183157 mappings (current limit is 65530). Continuing execution with the current
[warning][gc] limit could lead to a premature OutOfMemoryError being thrown, due to failure to map memory.
</code></pre>
<p>which is actually rather clear</p>
<h4 id="solution-1"><a href="#solution-1" id="solution-1" class="anchor"></a>Solution</h4>
<p>The <code>/proc/sys/vm/max_map_count</code> could be changed manually, but you probably want this change to persist reboots.
One way is to create a sysctl configuration file (e.g., <code>/etc/sysctl.d/99-vm-max-map-count.conf</code>)
the following line: <code>vm.max_map_count=XXXXXX</code>;
where <code>XXXXXX</code> should be computed as <code>4*RAM_IN_GB*1024</code>
(for instance vm.max_map_count=524288 for a system with 128GB RAM).
This can be done on a root shell via <code>echo &quot;vm.max_map_count=524288&quot; &gt; /etc/sysctl.d/99-vm-max-map-count.conf</code>.
Once done, run as root <code>sysctl --system</code> to load the new configuration without rebooting.
When in doubt, select a higher value, <a href="https://archive.is/xyaA6">apparently the negative effects are negligible</a>.</p>

                    
                
            
        
            
        
    
    <!-- end:inject components -->


                    </article>
                </section>
            
        </div>
        <hr>

        <!-- Page Footer -->
        <div class="inner">
    <footer id="footer">
        <div class="clearfix">
            
                <div class="float-left">
                    <a href="https://alchemistsimulator.github.io/latest/wiki/export/grid" class="button special small pill">
                        <span>&larr;</span> Grid computing support
                    </a>
                </div>
            
            
                <div class="float-right">
                    <a href="https://alchemistsimulator.github.io/latest/wiki/literature" class="button special small pill">
                        Examples from the literature<span>&rarr;</span>
                    </a>
                </div>
            
        </div>
    </footer>
</div>

    </div>

    <!-- Sidebar -->
    <div id="sidebar">
    <div class="inner">

        <!-- Search -->
        <section id="search" class="alt">
            <form data-orchid-search="">
                <input type="text" name="query" id="query" placeholder="Search"/>
            </form>
            <div class="box" id="search-results" data-orchid-search-results style="display: none;">
                <b>Search Results</b>
                <ul></ul>
            </div>
            <div class="box" id="search-progress" data-orchid-search-progress style="display: none;">
                <div class="loader">Loading...</div>
            </div>
        </section>

        <!-- Menu -->
        <nav id="siteNav" class="menu">
            <header class="major">
                <h2>The Alchemist Simulator</h2>
            </header>
            <ul class="top-level">
                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest">Home</a>
    </li>
    

                
                    
    
    <li>
        <a class="subheader">Documentation</a>
    </li>
    

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/superquick">SUPER-QUICK Start</a>
    </li>
    

                
                    
    <li>
        <span class="opener">Understand The Simulator</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/understand/metamodel">The Alchemist Simulator metamodel</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Prepare And Run</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/requirements">Requirements</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/quickstart">Quick start</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/run-gradle">Running Alchemist via Gradle</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/run-stand-alone">Running Alchemist stand-alone</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/default-gui">Alchemist graphical interface</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Writing Simulations</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/basics">Basics of an Alchemist simulation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/dry">Don&#39;t repeat yourself</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/coordination-2021-tutorial">Tutorial from Coordination 2021</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/yaml-variables">Using variables</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Incarnations In Detail</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/biochemistry">Alchemist biochemistry incarnation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/protelis">Alchemist Protelis incarnation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/sapere">Alchemist SAPERE incarnation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/scafi">Alchemist ScaFi incarnation</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Advanced Components</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/indoor">Indoor environments</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/maps">Maps and GPS traces</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/graphstream">Graph-based deployments</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/navigation-graphs">Pathfinding and navigation meshes</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/cognitive-pedestrians">Cognitive Pedestrians</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/smartcam">With Smart Cameras</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/customization">Writing custom components</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Data Export And Batches</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/export/export">Exporting data</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/export/batch">Executing batches</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/export/grid">Grid computing support</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/issues">Known issues: troubleshooting</a>
    </li>
    

                
                    
    <li>
        <span class="opener">Examples From The Literature</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/literature/protelis">With Protelis</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/literature/scafi">With Scafi</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/literature/maps">On maps</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Develop</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/develop/import">Requirements and installation</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/license">License</a>
    </li>
    

                
                    
    
    <li>
        <a class="subheader">API Docs</a>
    </li>
    

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/javadoc/index.html">Javadoc</a>
    </li>
    

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/html/index.html">Kdoc</a>
    </li>
    

                
            </ul>
        </nav>
        

        <!-- Section -->
        <section>
            <p class="text-center">
                Currently 11.3.1-dev1d+6f728480f. Created with <a href="https://orchid.run">Orchid </a> and <b>Orchid Editorial Theme</b>.
            </p>
        </section>

        <!-- Footer -->
        <footer id="footer">
            <p class="copyright text-center">&copy; The Alchemist Simulator. All rights reserved.<br>Design by <a href="https://html5up.net">HTML5 UP</a></p>
        </footer>

    </div>
</div>

</div>






    <!-- start:inject meta-components [bodyEnd] -->
    
    <!-- end:inject meta-components [bodyEnd] -->



    <!-- start:inject meta-components [bodyEnd] -->
    
    <!-- end:inject meta-components [bodyEnd] -->




<!-- start:inject scripts -->
<script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
<script  src="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/js/editorial_util.js"></script>
<script  src="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/js/editorial_main.js"></script>
<script  src="https://alchemistsimulator.github.io/latest/Editorial/21d5ae75/assets/js/editorial_orchidCustomizations.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-kotlin.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-java.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-groovy.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-yaml.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-asciidoc.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-markdown.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<!-- end:inject scripts -->


</body>
</html>
