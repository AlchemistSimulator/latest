<!DOCTYPE HTML>
<!--
    Editorial by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>






<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<meta name="generator" content="Orchid 0.21.1"/>
<link rel="icon" href="https://alchemistsimulator.github.io/latest/favicon.ico">


<meta name="robots" content="index, follow">



<title>Running Alchemist via Gradle</title>


<meta name="description" content="An extensible simulator for doing science and engineering in pervasive, bio-inspired, and aggregate computing.">



<link rel="prev" href="https://alchemistsimulator.github.io/latest/wiki/prepare/quickstart">


<link rel="next" href="https://alchemistsimulator.github.io/latest/wiki/prepare/run-stand-alone">


<!-- start:inject styles -->
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/css/editorial_main.css"  />
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/css/editorial_orchidCustomizations.css"  />
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/css/orchidSearch.css"  />
<link rel="stylesheet" type="text/css" href="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/css/pygments.css"  />
<link rel="stylesheet" type="text/css" href="https://rawgit.com/PrismJS/prism-themes/master/themes/prism-ghcolors.css"  />
<!-- end:inject styles -->





<!-- start:debug info -->

<!-- THEME -->
<!-- Type: Editorial -->
<!-- Class: com.eden.orchid.editorial.EditorialTheme -->

<!-- PAGE -->
<!-- Type: wiki -->
<!-- Class: com.eden.orchid.wiki.pages.WikiPage -->
<!-- Layout: index -->
<!-- Resolved Layout: templates/layouts/index.peb -->
<!-- Page Template: wiki, page -->
<!-- Resolved Page Template: templates/pages/page.peb -->

<!-- RESOURCE -->
<!-- Class: com.eden.orchid.api.resources.resource.FileResource -->
<!-- Source Filename: wiki/prepare/run-gradle.md -->

<!-- COMPLETE PAGE CONFIGURATION -->
<script>
    window.allData = {"reference":{"path":"wiki/prepare","baseUrl":"https://alchemistsimulator.github.io/latest","fileName":"run-gradle","extension":"html","usePrettyUrl":true,"link":"https://alchemistsimulator.github.io/latest/wiki/prepare/run-gradle"},"next":{"path":"wiki/prepare","baseUrl":"https://alchemistsimulator.github.io/latest","fileName":"run-stand-alone","extension":"html","usePrettyUrl":true,"link":"https://alchemistsimulator.github.io/latest/wiki/prepare/run-stand-alone"},"previous":{"path":"wiki/prepare","baseUrl":"https://alchemistsimulator.github.io/latest","fileName":"quickstart","extension":"html","usePrettyUrl":true,"link":"https://alchemistsimulator.github.io/latest/wiki/prepare/quickstart"},"description":"","title":"Running Alchemist via Gradle"};
</script>

<!-- end:debug info -->



<script>
    window.site = {"orchidVersion":"0.21.1","baseUrl":"https://alchemistsimulator.github.io/latest","environment":"debug","version":"11.3.1-dev68+33f8ca47b"};
</script>


    <!-- start:inject meta-components [head] -->
    
    <!-- end:inject meta-components [head] -->



    <!-- start:inject meta-components [head] -->
    
    <!-- end:inject meta-components [head] -->







</head>
<body class="is-loading">





    <!-- start:inject meta-components [bodyStart] -->
    
    <!-- end:inject meta-components [bodyStart] -->



    <!-- start:inject meta-components [bodyStart] -->
    
    <!-- end:inject meta-components [bodyStart] -->





<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <div id="main">
        <div class="inner">

            <!-- Header -->
            
                <header id="header">
    <a href="https://alchemistsimulator.github.io/latest" class="logo">The Alchemist Simulator</a>
    <ul class="icons">
    
    
        <li>
            <a href="https://github.com/AlchemistSimulator/Alchemist" class="icon fa-github">
                <span class="label">github</span>
            </a>
        </li>
    
    
    </ul>
</header>

            
            
            
            
                <section id="pageContent">
                    <header class="major"><h2>Running Alchemist via Gradle</h2></header>
                    <article>
                        
    <!-- start:inject components -->
    
        
            
                
                    
                        <p>In this section you will be given information about how to use the simulator via <a href="https://gradle.org">Gradle</a>.</p>
<p>To ease your life,
we prepared <a href="https://github.com/AlchemistSimulator/alchemist-primer">here</a> a project showing how to use Alchemist via
<a href="https://gradle.org">Gradle</a> to run a simple simulation.
Let's use it as a quick start.</p>
<h2 id="how-to-import-the-primer-project"><a href="#how-to-import-the-primer-project" id="how-to-import-the-primer-project" class="anchor"></a>How to import the primer project</h2>
<p>The easiest way to import the primer is via <a href="https://git-scm.com/"><code>git</code></a>, by issuing on a terminal</p>
<pre><code>git clone https://github.com/AlchemistSimulator/alchemist-primer.git alchemist-primer
cd alchemist-primer
</code></pre>
<p>Alternatively, you can <a href="https://github.com/AlchemistSimulator/alchemist-primer/archive/refs/heads/master.zip">download the primer projet as a compressed archive</a>,
unpack it, and then open a terminal pointing into that directory.</p>
<h2 id="how-to-launch"><a href="#how-to-launch" id="how-to-launch" class="anchor"></a>How to launch</h2>
<p>To run the example you can rely on the pre-configured Gradle build script. It will automatically download all the required libraries, set up the environment, and execute the simulator via command line for you.
As first step, use <code>git</code> to locally clone the repository linked above.
In order to launch, open a terminal and move to the project root folder, then on UNIX:</p>
<pre><code class="language-bash">./gradlew runAll
</code></pre>
<p>On Windows:</p>
<pre><code>gradlew.bat runAll
</code></pre>
<p>Press P and you should see things changing.
For further information about the graphical interface, see the <a href="default-gui">this page</a>.</p>
<h3 id="using-the-command-line-interface"><a href="#using-the-command-line-interface" id="using-the-command-line-interface" class="anchor"></a>Using the Command Line Interface</h3>
<p>To make the simulator do something for you (for instance, to make it run your own simulation) you can rely on the <a href="quickstart.md#command-line-interface">command line interface</a>. The most common case is you want to run your own simulation. To do so, you can rely on the <code>-y</code> option followed by the path to the simulation file. Alchemist simulations are contained in *.yml files, more information about how to write such simulations can be found <a href="../use/basics.md">here</a>. Let's say you want to run Alchemist with the following arguments:</p>
<pre><code class="language-bash">-y path/to/your/simulation.yml
</code></pre>
<p>You can do so in a couple of ways, of course this applies to every option you may want to launch the simulator with. You can explicit such options via command line when you run your custom task, using the <code>--args</code> option. So you will have something like this:</p>
<pre><code class="language-bash">./gradlew runAlchemist --args='-y path/to/your/simulation.yml'
</code></pre>
<p>Otherwise, if your options never change, you can explicit them in the body of your custom task, by adding the following line of code:</p>
<pre><code class="language-kotlin">args = listOf(&quot;-y&quot;, &quot;path/to/your/simulation.yml&quot;)
</code></pre>
<p>The command line interface features several options, related to running simulations,
deciding how often and where to export data,
how to display the information,
and so on.
A list of the commands can be printed by passing <code>--help</code> as argument.</p>
<h2 id="importing-the-project-into-an-ide"><a href="#importing-the-project-into-an-ide" id="importing-the-project-into-an-ide" class="anchor"></a>Importing the project into an IDE</h2>
<p>Alchemist projects can be imported in several IDEs:
as far as the development environment supports Gradle,
then it supports development of Alchemist projects.
The IDE we recommend for development is IntelliJ Idea,
which (among those we tested out) has the better integration with Gradle.
Importing the project in Idea is trivial:
just open the folder containing the <code>build.gradle.kts</code> file with the IDE.
Depending on the version and the IDE settings,
it could import the project straight away or ask which import format to prefer:
pick &quot;Gradle&quot;.</p>
<p>Once the project is ready, it can be developed as any other project.
IntelliJ provides a syntax helper for YAML which is rather handy.
Since the IDE can run gradle tasks, it is also possible to launch the simulator directly from the IDE.</p>
<h2 id="project-organization"><a href="#project-organization" id="project-organization" class="anchor"></a>Project organization</h2>
<p>You will see a <code>src/main</code> folder,
with subfolders divided by language.
Simulations are in the <code>yaml</code> folder.
Take a look: the files should be rather human-readable, although they will be clearer as we proceed.</p>
<p>Now look at the <code>build.gradle.kts</code> script,
there is some magic deserving an explanation there.</p>
<script
  src="http://gist-it.appspot.com/https://github.com/AlchemistSimulator/alchemist-primer/raw/master/build.gradle.kts?footer=no">
</script>
<p>First, we need to add Alchemist as a dependency.
Alchemist is available on Maven Central (and on Bintray, which mirrors it),
we can import the base components by importing the <code>it.unibo.alchemist:alchemist:SOME_ALCHEMIST_VERSION</code> artifact
(with <code>SOME_ALCHEMIST_VERSION</code> replaced by the version used).
However, to simulate anything useful we also need at least one incarnation,
and probably we also want to import other capabilities, such as visualization.</p>
<p>So we got:</p>
<script
  src="http://gist-it.appspot.com/https://github.com/AlchemistSimulator/alchemist-primer/raw/master/build.gradle.kts?footer=no&slice=8:11">
</script>
<script
  src="http://gist-it.appspot.com/https://github.com/AlchemistSimulator/alchemist-primer/raw/master/build.gradle.kts?footer=no&slice=21:27">
</script>
<p>If you see a <code>+</code>, it's a Gradle shorthand for &quot;the latest version you can find&quot;.
If you see a <code>_</code>, we are using a <a href="https://github.com/jmfayard/refreshVersions/">Gradle plugin</a>
which delegates the version choice to <a href="https://github.com/AlchemistSimulator/alchemist-primer/blob/master/versions.properties">an external file</a>.</p>
<p>Modules add capabilities to the simulator, and are documented in the remainder of the guide.</p>
<h2 id="running-alchemist"><a href="#running-alchemist" id="running-alchemist" class="anchor"></a>Running Alchemist</h2>
<p>When Gradle manages our dependencies,
the easiest way to run the simulator is writing a simple Gradle task launching it.
Let's see how this can be done.
Firstly, Gradle has a special task to run a Java class from the build script: <code>JavaExec</code>.
We can create our custom task of type <code>JavaExec</code> and configure it to launch Alchemist.
Let's define our own:</p>
<pre><code class="language-kotlin">tasks.register&lt;JavaExec&gt;(&quot;runAlchemist&quot;) {
    // run alchemist
}
</code></pre>
<p>Now, in order to launch the simulator, we need to explicit two things:</p>
<ul>
<li>the Alchemist main class, which is <code>it.unibo.alchemist.Alchemist</code></li>
<li>the classpath, or java won't be able to find all the classes needed</li>
</ul>
<p>You can do so by adding two lines of code:</p>
<pre><code class="language-kotlin">tasks.register&lt;JavaExec&gt;(&quot;runAlchemist&quot;) {
    classpath = project.sourceSets.getByName(&quot;main&quot;).runtimeClasspath
    main = &quot;it.unibo.alchemist.Alchemist&quot;
}
</code></pre>
<p>This is sufficient to succesfully run the simulator. Open a terminal and move to the project root folder, then on UNIX:</p>
<pre><code class="language-bash">./gradlew runAlchemist
</code></pre>
<p>On Windows:</p>
<pre><code>gradlew.bat runAlchemist
</code></pre>
<p>Note that the first launch will be rather slow, since Gradle will download all the required files.
They will get cached in the user's home folder (as per Gradle normal behavior),
so subsequent executions will be way more agile.</p>
<p>The task we configure in the primer is actually more complex.</p>
<p>We first create a name for all the Alchemist-related tasks.
They will be pretty printed when the user runs <code>./gradlew tasks</code></p>
<script
  src="http://gist-it.appspot.com/https://github.com/AlchemistSimulator/alchemist-primer/raw/master/build.gradle.kts?footer=no&slice=31">
</script>
<p>We configure a &quot;master&quot; task, that launches all other run tasks in sequence:</p>
<script
  src="http://gist-it.appspot.com/https://github.com/AlchemistSimulator/alchemist-primer/raw/master/build.gradle.kts?footer=no&slice=32:39">
</script>
<p>Then we generate one task per <code>yml</code> file inside <code>src/main/yaml</code>.
Please look at the code comments to understand what they do,
but the core is just to tell Gradle which class to execute and which CLI options should be passed down.</p>
<script
  src="http://gist-it.appspot.com/https://github.com/AlchemistSimulator/alchemist-primer/raw/master/build.gradle.kts?footer=no&slice=39:0">
</script>

                    
                
            
        
            
        
    
    <!-- end:inject components -->


                    </article>
                </section>
            
        </div>
        <hr>

        <!-- Page Footer -->
        <div class="inner">
    <footer id="footer">
        <div class="clearfix">
            
                <div class="float-left">
                    <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/quickstart" class="button special small pill">
                        <span>&larr;</span> Quick start
                    </a>
                </div>
            
            
                <div class="float-right">
                    <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/run-stand-alone" class="button special small pill">
                        Running Alchemist stand-alone<span>&rarr;</span>
                    </a>
                </div>
            
        </div>
    </footer>
</div>

    </div>

    <!-- Sidebar -->
    <div id="sidebar">
    <div class="inner">

        <!-- Search -->
        <section id="search" class="alt">
            <form data-orchid-search="">
                <input type="text" name="query" id="query" placeholder="Search"/>
            </form>
            <div class="box" id="search-results" data-orchid-search-results style="display: none;">
                <b>Search Results</b>
                <ul></ul>
            </div>
            <div class="box" id="search-progress" data-orchid-search-progress style="display: none;">
                <div class="loader">Loading...</div>
            </div>
        </section>

        <!-- Menu -->
        <nav id="siteNav" class="menu">
            <header class="major">
                <h2>The Alchemist Simulator</h2>
            </header>
            <ul class="top-level">
                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest">Home</a>
    </li>
    

                
                    
    
    <li>
        <a class="subheader">Documentation</a>
    </li>
    

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/superquick">SUPER-QUICK Start</a>
    </li>
    

                
                    
    <li>
        <span class="opener">Understand The Simulator</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/understand/metamodel">The Alchemist Simulator metamodel</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Prepare And Run</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/requirements">Requirements</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/quickstart">Quick start</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/run-gradle">Running Alchemist via Gradle</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/run-stand-alone">Running Alchemist stand-alone</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/prepare/default-gui">Alchemist graphical interface</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Writing Simulations</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/basics">Basics of an Alchemist simulation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/dry">Don&#39;t repeat yourself</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/coordination-2021-tutorial">Tutorial from Coordination 2021</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/use/yaml-variables">Using variables</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Incarnations In Detail</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/biochemistry">Alchemist biochemistry incarnation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/protelis">Alchemist Protelis incarnation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/sapere">Alchemist SAPERE incarnation</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/incarnations/scafi">Alchemist ScaFi incarnation</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Advanced Components</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/indoor">Indoor environments</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/maps">Maps and GPS traces</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/graphstream">Graph-based deployments</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/navigation-graphs">Pathfinding and navigation meshes</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/cognitive-pedestrians">Cognitive Pedestrians</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/smartcam">With Smart Cameras</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/advanced/customization">Writing custom components</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Data Export And Batches</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/export/export">Exporting data</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/export/batch">Executing batches</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/export/grid">Grid computing support</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/issues">Known issues: troubleshooting</a>
    </li>
    

                
                    
    <li>
        <span class="opener">Examples From The Literature</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/literature/protelis">With Protelis</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/literature/scafi">With Scafi</a>
    </li>
    

        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/literature/maps">On maps</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Develop</span>
        <ul>
        
            
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/develop/import">Requirements and installation</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/wiki/license">License</a>
    </li>
    

                
                    
    
    <li>
        <a class="subheader">API Docs</a>
    </li>
    

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/javadoc/index.html">Javadoc</a>
    </li>
    

                
                    
    
    <li>
        <a href="https://alchemistsimulator.github.io/latest/html/index.html">Kdoc</a>
    </li>
    

                
            </ul>
        </nav>
        

        <!-- Section -->
        <section>
            <p class="text-center">
                Currently 11.3.1-dev68+33f8ca47b. Created with <a href="https://orchid.run">Orchid </a> and <b>Orchid Editorial Theme</b>.
            </p>
        </section>

        <!-- Footer -->
        <footer id="footer">
            <p class="copyright text-center">&copy; The Alchemist Simulator. All rights reserved.<br>Design by <a href="https://html5up.net">HTML5 UP</a></p>
        </footer>

    </div>
</div>

</div>






    <!-- start:inject meta-components [bodyEnd] -->
    
    <!-- end:inject meta-components [bodyEnd] -->



    <!-- start:inject meta-components [bodyEnd] -->
    
    <!-- end:inject meta-components [bodyEnd] -->




<!-- start:inject scripts -->
<script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
<script  src="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/js/editorial_util.js"></script>
<script  src="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/js/editorial_main.js"></script>
<script  src="https://alchemistsimulator.github.io/latest/Editorial/8d6fb5b0/assets/js/editorial_orchidCustomizations.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-kotlin.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-java.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-groovy.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-yaml.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-asciidoc.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-markdown.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-python.min.js"></script>
<!-- end:inject scripts -->


</body>
</html>
